{"version":3,"file":"static/js/6314.dcb85bbb.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/devEnvironmentUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,l.some((a=>null!=c?.match(a)))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(s)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(o)||null!=a.match(i)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}const t=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,s=/^[\\w-]*\\.mapsdevext.arcgis.com$/,i=/^[\\w-]*\\.mapsqa.arcgis.com$/,l=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,o,/^jsapps.esri.com$/,s,i];export{a as adjustStaticAGOUrl,l as devHostnames,c as isDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../core/has.js\";const e=()=>!!has(\"enable-feature:force-wosr\"),a=()=>!!has(\"enable-feature:direct-3d-object-feature-layer-display\"),t=()=>has.add(\"enable-feature:direct-3d-object-feature-layer-display\",!0,!0,!0),i=()=>has.add(\"enable-feature:direct-3d-object-feature-layer-display\",!1,!0,!0),r=()=>!!has(\"enable-i3s-patching\"),d=()=>has.add(\"enable-i3s-patching\",!0,!0,!0),c=()=>has.add(\"enable-i3s-patching\",!1,!0,!0),n=()=>!!has(\"enable-feature:SceneLayer-editing\"),l=(e=\"i3s-patching\")=>{switch(c(),i(),has.add(\"enable-feature:SceneLayer-editing\",!0,!0,!0),e){case\"feature-layer-view\":t();break;case\"i3s-patching\":d()}},s=()=>{c(),i(),has.add(\"enable-feature:SceneLayer-editing\",!1,!0,!0)},b=()=>has.add(\"disable-feature:idb-cache\",!0,!0,!0);l(\"i3s-patching\");export{a as direct3DObjectFeatureLayerDisplayEnabled,i as disableDirect3DObjectFeatureLayerDisplay,c as disableI3SPatching,b as disableIDBCache,s as disableSceneLayerEditing,t as enableDirect3DObjectFeatureLayerDisplay,d as enableI3SPatching,l as enableSceneLayerEditing,e as enableWebStyleForceWOSR,r as i3sPatchingEnabled,n as sceneLayerEditingEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{readSymbol as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import{isSceneServiceLayer as n}from\"../../layers/support/layerUtils.js\";import t from\"../Symbol3D.js\";import{to3D as s}from\"./symbolConversion.js\";import r from\"../WebStyleSymbol.js\";function l(o,e,n,t){const s=a(o,{},{context:t,isLabelSymbol:!1});null!=s&&(e[n]=s)}function i(o,e,n,t){const s=a(o,{},{context:t,isLabelSymbol:!0});null!=s&&(e[n]=s)}function m(o){return o instanceof t||o instanceof r}function a(o,t,r){if(null==o)return null;const{context:l,isLabelSymbol:i}=r,a=l?.origin,b=l?.messages;if(\"web-scene\"===a&&!m(o)){const n=s(o,{retainCIM:!0,hasLabelingContext:i});return null!=n.symbol?n.symbol.write(t,l):(b?.push(new e(\"symbol:unsupported\",`Symbols of type '${o.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:o,context:l,error:n.error})),null)}return(\"web-map\"===a||\"portal-item\"===a&&!n(l?.layer))&&m(o)?(b?.push(new e(\"symbol:unsupported\",`Symbols of type '${o.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:o,context:l})),null):o.write(t,l)}function b(e,n){return o(e,null,n)}export{b as fromJSON,l as write,i as writeLabelSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{throwIfAbortError as r}from\"../../core/promiseUtils.js\";import{normalize as o,removeFile as s}from\"../../core/urlUtils.js\";import n from\"../../portal/Portal.js\";import l from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as a}from\"../../support/featureFlags.js\";let u={};async function f(e,t){try{return{data:(await b(e,t)).data,baseUrl:s(e),styleUrl:e}}catch(o){return r(o),null}}function i(e,t,r){const o=null!=t.portal?t.portal:n.getDefault();let s;const l=`${o.url} - ${o.user&&o.user.username} - ${e}`;return u[l]||(u[l]=y(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl??\"\",styleName:e})))),u[l]}function m(){u&&(u={})}function y(e,r,o){return r.load(o).then((()=>{const t=new l({disableExtraQuery:!0,query:`owner:${h} AND type:${j} AND typekeywords:\"${e}\"`});return r.queryItems(t,o)})).then((({results:r})=>{let s=null;const n=e.toLowerCase();if(r&&Array.isArray(r))for(const e of r){const t=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(t&&e.type===j&&e.owner===h){s=e;break}}if(!s)throw new t(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function c(e,r,o){return null!=e?.styleUrl?f(e.styleUrl,o):null!=e?.styleName?i(e.styleName,r,o):Promise.reject(new t(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function p(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function d(e,t,r=[\"gltf\"]){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!a())for(const o of r){const t=e.formatInfos.find((e=>e.type===o));if(t)return t.href}return e.webRef}function b(t,r){const s={responseType:\"json\",query:{f:\"json\"},...r};return e(o(t),s)}const h=\"esri_en\",j=\"Style\",w=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{w as Style2DUrlTemplate,u as cachedStyles,m as cleanupStyleUtilsCache,c as fetchStyle,p as makeCIMSymbolRef,b as requestJSON,d as symbolUrlFromStyleItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import r from\"../WebStyleSymbol.js\";import m from\"../PointSymbol3D.js\";import i from\"../SimpleLineSymbol.js\";import l from\"../LineSymbol3D.js\";import s from\"../SimpleMarkerSymbol.js\";import n from\"../PictureMarkerSymbol.js\";import t from\"../SimpleFillSymbol.js\";import y from\"../MeshSymbol3D.js\";import f from\"../PolygonSymbol3D.js\";import b from\"../TextSymbol.js\";import p from\"../LabelSymbol3D.js\";const a={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function S(S,c=a){if(!S)return{symbol:null};const{retainId:u=a.retainId,ignoreDrivers:d=a.ignoreDrivers,hasLabelingContext:j=a.hasLabelingContext,retainCIM:D=a.retainCIM}=c;let g=null;if(o(S)||S instanceof r)g=S.clone();else if(\"cim\"===S.type){const o=S.data?.symbol?.type;if(\"CIMPointSymbol\"!==o)return{error:new e(\"symbol-conversion:unsupported-cim-symbol\",`CIM symbol of type '${o||\"unknown\"}' is unsupported in 3D`,{symbol:S})};g=D?S.clone():m.fromCIMSymbol(S)}else if(S instanceof i)g=l.fromSimpleLineSymbol(S);else if(S instanceof s)g=m.fromSimpleMarkerSymbol(S);else if(S instanceof n)g=m.fromPictureMarkerSymbol(S);else if(S instanceof t)g=c.geometryType&&\"mesh\"===c.geometryType?y.fromSimpleFillSymbol(S):f.fromSimpleFillSymbol(S);else{if(!(S instanceof b))return{error:new e(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${S.type||S.declaredClass}' is unsupported in 3D`,{symbol:S})};g=j?p.fromTextSymbol(S):m.fromTextSymbol(S)}return u&&g&&\"cim\"!==g.type&&(g.id=S.id),d&&o(g)&&g.symbolLayers.forEach((o=>o.ignoreDrivers=!0)),{symbol:g}}export{a as defaultTo3DOptions,S as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import l from\"../../core/Error.js\";import{urlToObject as o,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as m}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as i}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{fetchStyle as u,requestJSON as p,makeCIMSymbolRef as f,Style2DUrlTemplate as y,symbolUrlFromStyleItem as c}from\"./styleUtils.js\";import{Thumbnail as b}from\"./Thumbnail.js\";function g(t,e,r,o){const n=t.name;return null==n?Promise.reject(new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\")):t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?d(n,e,o):u(t,e,o).then((t=>h(t,n,e,r,c,o)))}function j(t,e){return e.items.find((e=>e.name===t))}function h(u,y,c,g,h,d){const U=null!=c?.portal?c.portal:s.getDefault(),N={portal:U,url:o(u.baseUrl),origin:\"portal-item\"},w=j(y,u.data);if(!w){const t=`The symbol name '${y}' could not be found`;return Promise.reject(new l(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:y}))}let S=m(h(w,g),N),D=w.thumbnail?.href??null;const O=w.thumbnail?.imageData;e()&&(S=r(S)??\"\",D=r(D));const P={portal:U,url:o(n(S)),origin:\"portal-item\"};return p(S,d).then((e=>{const r=\"cimRef\"===g?f(e.data):e.data,l=i(r,P);if(l&&t(l)){if(D){const t=m(D,N);l.thumbnail=new b({url:t})}else O&&(l.thumbnail=new b({url:`data:image/png;base64,${O}`}));u.styleUrl?l.styleOrigin=new a({portal:c.portal,styleUrl:u.styleUrl,name:y}):u.styleName&&(l.styleOrigin=new a({portal:c.portal,styleName:u.styleName,name:y}))}return l}))}function d(t,e,r){const l=y.replaceAll(/\\{SymbolName\\}/gi,t),m=null!=e.portal?e.portal:s.getDefault();return p(l,r).then((t=>{const e=f(t.data);return i(e,{portal:m,url:o(n(l)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as getStyleItemFromStyle,g as resolveWebStyleSymbol};\n"],"names":["c","globalThis","location","hostname","l","some","a","_c","match","t","s","replace","o","i","e","has","add","r","n","arguments","length","undefined","context","isLabelSymbol","m","origin","b","messages","retainCIM","hasLabelingContext","symbol","write","push","concat","declaredClass","error","layer","u","portal","getDefault","url","user","username","load","then","disableExtraQuery","query","h","j","queryItems","_ref","results","toLowerCase","Array","isArray","_e$typeKeywords","typeKeywords","type","owner","styleName","y","fetchData","_s$itemUrl","data","baseUrl","itemUrl","styleUrl","async","f","Promise","reject","p","d","cimRef","formatInfos","find","href","webRef","responseType","w","retainId","ignoreDrivers","S","D","g","clone","_S$data","fromCIMSymbol","fromSimpleLineSymbol","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","geometryType","fromSimpleFillSymbol","fromTextSymbol","id","symbolLayers","forEach","name","replaceAll","items","_w$thumbnail$href","_w$thumbnail","_w$thumbnail2","_r","U","N","symbolName","thumbnail","O","imageData","P","styleOrigin"],"sourceRoot":""}