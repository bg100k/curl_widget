"use strict";(self.webpackChunkreact_map_widgets=self.webpackChunkreact_map_widgets||[]).push([[8620],{32186:(t,e,n)=>{n.d(e,{A:()=>d});var r,o=n(35143),i=n(42553),a=n(46053),l=(n(81806),n(76460),n(47249),n(85842)),c=n(34761),s=n(13191),u=n(60008),p=n(4336),f=n(20664),g=n(9392),v=n(52896);let h=r=class extends i.oY{constructor(t){super(t),this.translation=(0,g.vt)(),this.rotationAxis=(0,g.ci)(v.up),this.rotationAngle=0,this.scale=(0,g.fA)(1,1,1)}get rotation(){return(0,v.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,g.o8)((0,v.yo)(t)),this.rotationAngle=(0,v.g7)(t)}get localMatrix(){const t=(0,s.vt)();return(0,u.x8)(y,(0,v.yo)(this.rotation),(0,v.$I)(this.rotation)),(0,c.o1)(t,y,this.translation,this.scale),t}get localMatrixInverse(){return(0,c.B8)((0,s.vt)(),this.localMatrix)}applyLocal(t,e){return(0,f.e)(e,t,this.localMatrix)}applyLocalInverse(t,e){return(0,f.e)(e,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,c.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,g.o8)(this.translation),rotationAxis:(0,g.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,g.o8)(this.scale)};return new r(t)}};(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"translation",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"rotationAxis",void 0),(0,o._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],h.prototype,"rotationAngle",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"scale",void 0),(0,o._)([(0,a.MZ)()],h.prototype,"rotation",null),(0,o._)([(0,a.MZ)()],h.prototype,"localMatrix",null),(0,o._)([(0,a.MZ)()],h.prototype,"localMatrixInverse",null),h=r=(0,o._)([(0,l.$)("esri.geometry.support.MeshTransform")],h);const y=(0,p.vt)(),d=h},52896:(t,e,n)=>{n.d(e,{$I:()=>y,AU:()=>g,Cr:()=>p,Zz:()=>f,g7:()=>h,i4:()=>u,up:()=>d,vt:()=>s,yo:()=>v});var r=n(15941),o=n(60008),i=n(4336),a=n(20664),l=n(9392),c=n(55855);function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return[t[0],t[1],t[2],t[3]]}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,a.c)(n,t),n[3]=e,n}function p(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,c.vt)();return(0,a.b)(n,t,e),(0,a.n)(n,n),n[3]=-(0,a.d)(t,e),n}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,o.x8)(A,t,y(t)),(0,o.x8)(m,e,y(e)),(0,o.lw)(A,m,A),function(t,e){return t[3]=e,t}(n,(0,r.KJ)((0,o.Xd)(n,A)))}function g(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s();return u(l.Cw,t,x),u(l.JP,e,w),u(l.Cb,n,M),f(x,w,x),f(x,M,r),r}function v(t){return t}function h(t){return t[3]}function y(t){return(0,r.kU)(t[3])}const d=[0,0,1,0],A=(0,i.vt)(),m=(0,i.vt)(),x=(s(),s()),w=s(),M=s()},84640:(t,e,n)=>{n.d(e,{Hm:()=>l,QD:()=>c,WN:()=>a});var r=n(63241),o=n(76460),i=n(99773);function a(t,e){return t.isGeographic||t.isWebMercator&&(null===e||void 0===e||e)}function l(t,e){switch(t.type){case"georeferenced":return e.isGeographic;case"local":return e.isGeographic||e.isWebMercator}}function c(t,e,n,a){if(void 0!==a){(0,r.io)(o.A.getLogger(t),"option: geographic",{replacement:"use mesh vertexSpace and spatial reference to control how operations are performed",version:"4.29",warnOnce:!0});const l="local"===e.type;if(!(0,i.Hq)(e)||a===l)return n.isGeographic||n.isWebMercator&&a;o.A.getLogger(t).warnOnce("Specifying the 'geographic' parameter (".concat(a,') for a Mesh vertex space of type "').concat(e.type,'" is not supported. This parameter will be ignored.'))}return l(e,n)}},48620:(t,e,n)=>{n.d(e,{NW:()=>w,RN:()=>R,bA:()=>M,h7:()=>P,nX:()=>j,project:()=>T,qD:()=>F,wD:()=>_});var r=n(31633),o=n(44680),i=n(34761),a=n(13191),l=n(20664),c=n(9392),s=n(63919),u=n(9624),p=n(98510),f=n(90707),g=n(45308),v=n(44815),h=n(32186),y=n(99773),d=n(45136),A=n(84640),m=n(26375);function x(t,e,n){return(0,A.WN)(e.spatialReference,null===n||void 0===n?void 0:n.geographic)?_(t,e,!1,n):function(t,e,n){var r;const o=new Float64Array(t.position.length),i=t.position,a=e.x,l=e.y,c=null!==(r=e.z)&&void 0!==r?r:0,s=j(n?n.unit:null,e.spatialReference);for(let u=0;u<i.length;u+=3)o[u]=i[u]*s+a,o[u+1]=i[u+1]*s+l,o[u+2]=i[u+2]*s+c;return{position:o,normal:t.normal,tangent:t.tangent}}(t,e,n)}function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.zK;const{position:n,normal:r,tangent:o}=t;return{position:(0,d.a)(new Float64Array(n.length),n,e),normal:null!=r?(0,m.qs)(r,new Float32Array(r.length),e):null,tangent:null!=o?(0,m.KM)(o,new Float32Array(o.length),e):null}}function M(t,e,n,r){const{position:o,normal:i,tangent:a}=t;if(!(0,y.Hq)(e))return{position:o,normal:i,tangent:a};const l=(0,y.MW)(e,r);return x(w(t,null===n||void 0===n?void 0:n.localMatrix),l,{geographic:"local"===e.type})}function F(t,e,n){const r=(0,y.TE)(e,n),o=e.spatialReference,i=(0,y.Hq)(r);if(!i)return{vertexAttributes:x(t,e,n),vertexSpace:r,transform:null};const{position:a,normal:l,tangent:c}=t,s=(0,A.Hm)(r,o);switch(r.type){case"georeferenced":return s?{vertexAttributes:_(t,e,i,n),vertexSpace:r,transform:null}:{vertexAttributes:{position:a,normal:l,tangent:c},vertexSpace:r,transform:new h.A};case"local":return{vertexAttributes:{position:a,normal:l,tangent:c},vertexSpace:r,transform:new h.A}}}function b(t,e,n){return(0,A.WN)(e.spatialReference,null===n||void 0===n?void 0:n.geographic)?R(t,e,n):C(t,e,n)}function P(t,e,n,r,o){if(!(0,y.Hq)(e))return b(t,r,o);const{spatialReference:i}=r,a=M(t,e,n,i);return r.equals((0,y.MW)(e,i))?C(a,r,o):b(a,r,o)}function T(t){var e,n;let{positions:r,transform:o,vertexSpace:s,inSpatialReference:h,outSpatialReference:y,outPositions:A,localMode:m}=t;const x=null!==(e=s.origin)&&void 0!==e?e:c.uY,w=null!=s.origin&&null!==(n=null===o||void 0===o?void 0:o.localMatrix)&&void 0!==n?n:a.zK;if("georeferenced"===s.type){const t=null!==A&&void 0!==A?A:(0,v.jh)(r.length);if((0,i.aI)(w,a.zK)?(0,v.s)(t,r):(0,d.a)(t,r,w),!(0,l.i)(x,c.uY)){const[e,n,r]=x;for(let o=0;o<t.length;o+=3)t[o]+=e,t[o+1]+=n,t[o+2]+=r}return(0,g.projectBuffer)(t,h,0,t,y,0,t.length/3),t}let M=h;const F=(0,p.lO)(h);M=y.isWebMercator&&m||!(0,u.canProjectWithoutEngine)(h,F)?M:F,(0,f.l)(h,x,N,M),(0,i.lw)(N,N,w);const b=null!==A&&void 0!==A?A:(0,v.jh)(r.length);return(0,d.a)(b,r,N),(0,g.projectBuffer)(b,M,0,b,y,0,b.length/3),b}function _(t,e,n,r){const o=e.spatialReference,i=O(e,r,N),a=new Float64Array(t.position.length),l=function(t,e,n,r){(0,d.a)(r,t,e);const o=new Float64Array(t.length);return(0,m.$5)(r,o,n)}(t.position,i,o,a),c=(0,s.Ge)(E,i),u=function(t,e,n,r,o){if(null==n)return null;const i=new Float32Array(n.length);return(0,d.b)(i,n,r),(0,m.si)(i,t,e,o,i),i}(l,a,t.normal,c,o),p=function(t,e,n,r,o){if(null==n)return null;const i=new Float32Array(n.length);(0,d.b)(i,n,r,4);for(let a=3;a<i.length;a+=4)i[a]=n[a];return(0,m.Mv)(i,t,e,o,i),i}(l,a,t.tangent,c,o);if(n){const{x:t,y:n,z:r}=e;(0,d.t)(l,l,[-t,-n,-(null!==r&&void 0!==r?r:0)])}return{position:l,normal:u,tangent:p}}function C(t,e,n){var r;const o=new Float64Array(t.position.length),i=t.position,a=e.x,l=e.y,c=null!==(r=e.z)&&void 0!==r?r:0,s=j(n?n.unit:null,e.spatialReference);for(let u=0;u<i.length;u+=3)o[u]=(i[u]-a)/s,o[u+1]=(i[u+1]-l)/s,o[u+2]=(i[u+2]-c)/s;return{position:o,normal:t.normal,tangent:t.tangent}}function R(t,e,n){const r=e.spatialReference;O(e,n,N);const o=(0,i.B8)(z,N),a=new Float64Array(t.position.length),l=function(t,e,n,r){const o=(0,m.gr)(t,e,r),i=new Float64Array(o.length);return(0,d.a)(i,o,n),i}(t.position,r,o,a),c=(0,s.Ge)(E,o);return{position:l,normal:S(t.normal,t.position,a,r,c),tangent:W(t.tangent,t.position,a,r,c)}}function O(t,e,n){var r;(0,f.l)(t.spatialReference,[t.x,t.y,null!==(r=t.z)&&void 0!==r?r:0],n,(0,p.lO)(t.spatialReference));const o=j(e?e.unit:null,t.spatialReference);return(0,i.hs)(n,n,[o,o,o]),n}function S(t,e,n,r,o){if(null==t)return null;const i=(0,m.X4)(t,e,n,r,new Float32Array(t.length));return(0,d.b)(i,i,o),i}function W(t,e,n,r,o){if(null==t)return null;const i=(0,m.xA)(t,e,n,r,new Float32Array(t.length));return(0,d.b)(i,i,o,4),i}function j(t,e){if(null==t)return 1;const n=(0,r.KX)(e);return 1/(0,r.oU)(n,"meters",t)}const N=(0,a.vt)(),z=(0,a.vt)(),E=(0,o.vt)()},26375:(t,e,n)=>{n.d(e,{$5:()=>x,KM:()=>M,Mv:()=>b,X4:()=>d,gr:()=>m,qs:()=>w,si:()=>A,xA:()=>F});var r=n(76460),o=n(63919),i=n(44680),a=n(13191),l=n(20664),c=n(9392),s=n(98510),u=n(90707),p=n(45308),f=n(80963),g=n(45417),v=n(88105),h=n(45136);const y=()=>r.A.getLogger("esri.geometry.support.meshUtils.normalProjection");function d(t,e,n,r,o){return T(r)?(P(C.TO_PCPF,v.xs.fromTypedArray(t),v.Xm.fromTypedArray(e),v.Xm.fromTypedArray(n),r,v.xs.fromTypedArray(o)),o):(y().error("Cannot convert spatial reference to PCPF"),o)}function A(t,e,n,r,o){return T(r)?(P(C.FROM_PCPF,v.xs.fromTypedArray(t),v.Xm.fromTypedArray(e),v.Xm.fromTypedArray(n),r,v.xs.fromTypedArray(o)),o):(y().error("Cannot convert to spatial reference from PCPF"),o)}function m(t,e,n){return(0,p.projectBuffer)(t,e,0,n,(0,s.lO)(e),0,t.length/3),n}function x(t,e,n){return(0,p.projectBuffer)(t,(0,s.lO)(n),0,e,n,0,t.length/3),e}function w(t,e,n){return(0,o.Ge)(j,n),(0,h.b)(e,t,j),(0,o.ut)(j)||(0,h.n)(e,e),e}function M(t,e,n){if((0,o.Ge)(j,n),(0,h.b)(e,t,j,4),(0,o.ut)(j)||(0,h.n)(e,e,4),t!==e)for(let r=3;r<t.length;r+=4)e[r]=t[r];return e}function F(t,e,n,r,o){if(!T(r))return y().error("Cannot convert spatial reference to PCPF"),o;P(C.TO_PCPF,v.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),v.Xm.fromTypedArray(e),v.Xm.fromTypedArray(n),r,v.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let i=3;i<t.length;i+=4)o[i]=t[i];return o}function b(t,e,n,r,o){if(!T(r))return y().error("Cannot convert to spatial reference from PCPF"),o;P(C.FROM_PCPF,v.xs.fromTypedArray(t,16),v.Xm.fromTypedArray(e),v.Xm.fromTypedArray(n),r,v.xs.fromTypedArray(o,16));for(let i=3;i<t.length;i+=4)o[i]=t[i];return o}function P(t,e,n,r,i,a){if(!e)return;const c=n.count,p=(0,s.lO)(i);if(_(i))for(let s=0;s<c;s++)r.getVec(s,O),e.getVec(s,S),(0,u.l)(p,O,W,p),(0,o.z0)(j,W),t===C.FROM_PCPF&&(0,o.mg)(j,j),(0,l.t)(S,S,j),a.setVec(s,S);else for(let s=0;s<c;s++){r.getVec(s,O),e.getVec(s,S),(0,u.l)(p,O,W,p),(0,o.z0)(j,W);const i=(0,g.jg)(n.get(s,1));let c=Math.cos(i);t===C.TO_PCPF&&(c=1/c),j[0]*=c,j[1]*=c,j[2]*=c,j[3]*=c,j[4]*=c,j[5]*=c,t===C.FROM_PCPF&&(0,o.mg)(j,j),(0,l.t)(S,S,j),(0,l.n)(S,S),a.setVec(s,S)}return a}function T(t){return _(t)||function(t){return t.isWebMercator}(t)}function _(t){return t.isWGS84||(0,f.x1)(t)||(0,f.q8)(t)||(0,f.KQ)(t)}var C,R;(R=C||(C={}))[R.TO_PCPF=0]="TO_PCPF",R[R.FROM_PCPF=1]="FROM_PCPF";const O=(0,c.vt)(),S=(0,c.vt)(),W=(0,a.vt)(),j=(0,i.vt)()},99773:(t,e,n)=>{n.d(e,{Hq:()=>p,MW:()=>f,TE:()=>g,Uj:()=>v,by:()=>h,kp:()=>u});var r=n(63241),o=n(76460),i=n(13904),a=n(14894),l=n(5845),c=n(45136);function s(){return o.A.getLogger("esri.geometry.Mesh")}function u(t){var e;const{vertexSpace:n}=t;if(null!=n.origin)return t.clone();const{anchor:r}=t,o=r.clone(),i=new a.A({origin:[o.x,o.y,o.z]}),l=t.cloneWithVertexSpace(i),{position:s}=l.vertexAttributes;return l.vertexAttributes.position=(0,c.t)(new Float64Array(s.length),s,[-o.x,-o.y,-(null!==(e=o.z)&&void 0!==e?e:0)]),l.vertexAttributesChanged(),l}function p(t){return null!=t.origin}function f(t,e){if(!p(t))return null;const[n,r,o]=t.origin;return new i.A({x:n,y:r,z:o,spatialReference:e})}function g(t,e){const{x:n,y:o,z:i,spatialReference:c}=t,u=[n,o,null!==i&&void 0!==i?i:0];if(void 0!==(null===e||void 0===e?void 0:e.geographic)){if((0,r.io)(s(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),null===e||void 0===e||!e.vertexSpace)return null!==e&&void 0!==e&&e.geographic?new l.A({origin:u}):new a.A({origin:u});s().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")}if(null===e||void 0===e||!e.vertexSpace)return c.isGeographic||c.isWebMercator?new l.A({origin:u}):new a.A({origin:u});switch(e.vertexSpace){case"local":return new l.A({origin:u});case"georeferenced":return new a.A({origin:u});case"georeferenced-absolute":return new a.A}}function v(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}function h(t,e){return"local"===t?new l.A({origin:e}):new a.A({origin:e})}}}]);
//# sourceMappingURL=8620.c577aa42.chunk.js.map